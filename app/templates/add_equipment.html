<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Equipment</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/add_equip.css')}}">
</head>
<body>
    <!-- Sidebar -->
    <div id="sidebar">
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link active" href="/index" title="Dashboard"><i class="fas fa-tachometer-alt"></i></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/inventory" title="Inventory"><i class="fas fa-box"></i></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/adicionar_equipamento" title="Add Equipment"><i class="fas fa-plus"></i></a>
            </li>
            
            <li class="nav-item">
                <a class="nav-link" href="#" title="Reports"><i class="fas fa-chart-line"></i></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" title="Settings"><i class="fas fa-cog"></i></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/logout" title="Logout"><i class="fas fa-sign-out-alt"></i></a>
            </li>
        </ul>
    </div>

    <!-- Main content -->
    <div id="main-content">
        <h1>Adicionar Equipamento</h1>
        <form enctype="multipart/form-data" action="{{ url_for('add_equip') }}" method="post">
            <div class="form-group">
                <label for="itemSerialNo">Serial No.</label>
                <input type="text" class="form-control" id="itemSerialNo" name="itemSerialNo" placeholder="Introduza o numero de sÃ©rie" required>
            </div>
            <div class="form-group">
                <label for="itemName">Equipamento</label>
                <input type="text" class="form-control" id="itemName" name="itemName" placeholder="Introduza o tipo de equipamento" required>
            </div>
            <div class="form-group">
                <label for="location">Pertencente a</label>
                <select class="form-control" id="location" name="location" required>
                    <option value="" disabled selected>Selecione uma escola</option> <!-- Default placeholder -->
                    {% for escola in escolas %}
                        <option value="{{ loop.index }}">{{ escola }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-check mb-3">
                <input type="checkbox" class="form-check-input" id="assignCheckbox" onclick="toggleAssignedFields()">
                <label class="form-check-label" for="assignCheckbox">Atribuido a:</label>
            </div>
            <div id="assignedFields" style="display: none;">
                <div class="form-group">
                    <label for="assignedTo">Atribuido a:</label>
                    <input type="text" class="form-control" id="assignedTo" name="assignedTo" placeholder="Insira o CC do aluno">
                </div>
                <div class="form-group">
                    <label for="documentFile">Documento (opcional)</label>
                    <input type="file" class="form-control-file" id="documentFile" name="documentFile">
                </div>
            </div>
            <button type="submit" class="btn btn-primary">Adicionar equipamento</button>
        </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js"></script> <!-- Font Awesome -->

    <script>
        function toggleAssignedFields() {
            const assignedFields = document.getElementById("assignedFields");
            const assignCheckbox = document.getElementById("assignCheckbox");

            assignedFields.style.display = assignCheckbox.checked ? "block" : "none";
        }
    </script>
</body>
</html>